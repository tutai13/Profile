<template>
  <div class="invite-root">
    <div class="card">
   <!-- HERO SECTION -->
<!-- HERO ‚Äì 3 ·∫¢NH ƒê·ª®NG ƒê·∫∏P Y H·ªÜT ·∫¢NH M·∫™U -->
<section class="hero">
  <h1 class="subtitle" v-scroll-animate data-delay="0">Thi·ªáp</h1>
  <h1 class="title" v-scroll-animate data-delay="0.5">M·ªùi Th√¥i N√¥i</h1>

  <!-- 3 ·∫£nh ki·ªÉu studio nh∆∞ ·∫£nh m·∫´u -->
  <div class="triple-photo" v-scroll-animate data-delay="1">
    <div class="photo-frame">
      <img src="https://i.pinimg.com/originals/1d/4e/ce/1d4ecef2334c51f3b8b0ca95875b18e5.jpg" alt="B√© B√¨nh An 1" />
    </div>
    <div class="photo-frame middle">
      <img src="https://i.pinimg.com/originals/1d/4e/ce/1d4ecef2334c51f3b8b0ca95875b18e5.jpg" alt="B√© B√¨nh An 2" />
    </div>
    <div class="photo-frame">
      <img src="https://i.pinimg.com/originals/1d/4e/ce/1d4ecef2334c51f3b8b0ca95875b18e5.jpg" alt="B√© B√¨nh An 3" />
    </div>
  </div>

  <h2 class="baby" v-scroll-animate data-delay="2">B√© B√¨nh An</h2>
</section>
      <div class="baby-name-framed py-16" v-scroll-animate data-delay="1">
        <div class="name-frame mx-auto">
          <h2 class="name-text">Nguy·ªÖn Ph∆∞∆°ng B√¨nh An</h2>
        </div>
      </div>
      <!-- SETTINGS / DISPLAY CONTENT -->
      <section class="content" v-if="showSettings">
                <!-- MESSAGE SECTION -->
        <div class="section-block message-block" v-scroll-animate data-delay="5">
          <p class="label">L·ªùi nh·∫Øn</p>
          <p class="message">Th√¢n m·ªùi b·∫°n ƒë·∫øn chung vui c√πng gia ƒë√¨nh ch√∫ng t√¥i trong ng√†y th√¥i n√¥i c·ªßa b√©. R·∫•t mong s·ª± hi·ªán di·ªán c·ªßa b·∫°n ƒë·ªÉ bu·ªïi ti·ªác th√™m ·∫•m c√∫ng.</p>
        </div>
        <!-- NG√ÄY SINH C·ª¶A B√â ‚Äì KI·ªÇU THI·ªÜP TH·∫¨T SI√äU ƒê·∫∏P -->
        <div class="section-block birth-real-card" v-scroll-animate data-delay="6">
          <p class="label">B√© ch√†o ƒë·ªùi</p>
          <div class="birth-card">
            <div class="birth-title">TI·ªÜC M·ª™NG TH√îI N√îI</div>
            <div class="birth-time">V√ÄO L√öC: 17H00</div>
            
            <div class="birth-date-row">
              <div class="birth-part">
                <span class="birth-label">Th·ª© NƒÉm</span>
                <span class="birth-big">14</span>
              </div>
              <div class="slash">/</div>
              <div class="birth-part">
                <span class="birth-label">Th√°ng</span>
                <span class="birth-big">08</span>
              </div>
              <div class="birth-year-big">2025</div>
            </div>
            

          </div>
        </div>
        <!-- DATE SECTION - Calendar Style -->
        <div class="section-block calendar-block" v-scroll-animate data-delay="2">
          <p class="label">Ng√†y t·ªï ch·ª©c</p>
          <div class="calendar">
            <div class="calendar-header">{{ calendarMonth }}</div>
            <div class="calendar-grid">
              <span v-for="d in 31" :key="d" :class="['day', { highlight: d === calendarDay }]">{{ d }}</span>
            </div>
          </div>
        </div>
        <!-- TIME / COUNTDOWN SECTION - LED Style -->
        <div class="section-block time-block" v-scroll-animate data-delay="3">
          <p class="label">ƒê·∫øm ng∆∞·ª£c ƒë·∫øn s·ª± ki·ªán</p>
          <div class="countdown-grid">
            <div class="countdown-item">
              <div class="num">{{ countdownDays }}</div>
              <div class="label-small">Ng√†y</div>
            </div>
            <div class="countdown-item">
              <div class="num">{{ countdownHours }}</div>
              <div class="label-small">Gi·ªù</div>
            </div>
            <div class="countdown-item">
              <div class="num">{{ countdownMinutes }}</div>
              <div class="label-small">Ph√∫t</div>
            </div>
            <div class="countdown-item">
              <div class="num">{{ countdownSeconds }}</div>
              <div class="label-small">Gi√¢y</div>
            </div>
          </div>
        </div>
                <!-- 3D CYLINDER IMAGE GALLERY - Rotating Carousel -->
        <div class="section-block gallery-3d-block" v-scroll-animate data-delay="3.5">
          <p class="label" style="margin-bottom: 20px;">Kho·∫£nh kh·∫Øc c·ªßa b√©</p>
          
          <div class="cylinder-gallery-container">
            <div class="cylinder-scene">
              <div class="cylinder-carousel" :style="{ transform: `rotateY(${rotation}deg)` }">
                <div 
                  class="cylinder-item" 
                  v-for="(img, index) in galleryImages" 
                  :key="index"
                  :style="{ 
                    transform: `rotateY(${index * itemAngle}deg) translateZ(${radius}px)`,
                    backgroundImage: `url(${img})`
                  }"
                >
                  <!-- C√≥ th·ªÉ th√™m overlay ho·∫∑c caption n·∫øu mu·ªën -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- LOCATION SECTION -->
        <div class="section-block location-block" v-scroll-animate data-delay="4">
          <p class="label">ƒê·ªãa ƒëi·ªÉm</p>
          <div class="location-box">üìç {{ location }}</div>
          <div class="map-container">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3834.534180918249!2d108.1431936153252!3d16.072889776176113!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x314218d5079a7285%3A0x3fbce23a7a72671d!2zOTUgxJDhuqFvIEtow6FuaCBCw6FjLCBMw6JuIENow6F1LCDEkMO0w6JuZyBOYW5nIDU1MDAwLCBWaeG7h3QgTmFt!5e0!3m2!1svi!2s!4v1700328754321!5m2!1svi!2s"
              width="100%"
              height="250"
              style="border:0; border-radius:12px;"
              allowfullscreen=""
              loading="lazy">
            </iframe>
          </div>
        </div>
        <footer class="footer" v-scroll-animate data-delay="8">Li√™n h·ªá: {{ contact }} ‚Äî L∆∞u √Ω: m·∫∑c trang ph·ª•c t∆∞∆°i s√°ng.</footer>
        <!-- CH·ªà M·ªòT CH·ªÆ THANK YOU ‚Äì ƒê·∫∏P & SANG -->
        <div class="thank-you-simple" v-scroll-animate data-delay="5.5">
          ‚ùñ Thank You  ‚ùñ
          <span class="underline"></span>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'

// === D·ªÆ LI·ªÜU CHUNG ===
const date = ref('2025-12-07')
const location = ref('95 ƒê·ªìng K√®, Ho√† Kh√°nh B·∫Øc, Li√™n Chi·ªÉu, ƒê√† N·∫µng, Vi·ªát Nam')
const contact = ref('0123 456 789')
const image = ref('')

const showSettings = ref(true)
const rsvpName = ref('')
const rsvpMsg = ref('')

const calendarDay = computed(() => Number(date.value.split('-')[2]))
const calendarMonth = computed(() => {
  const months = ['Th√°ng 1','Th√°ng 2','Th√°ng 3','Th√°ng 4','Th√°ng 5','Th√°ng 6','Th√°ng 7','Th√°ng 8','Th√°ng 9','Th√°ng 10','Th√°ng 11','Th√°ng 12']
  return months[Number(date.value.split('-')[1]) - 1]
})

// === COUNTDOWN LED ===
const countdownDays = ref('00')
const countdownHours = ref('00')
const countdownMinutes = ref('00')
const countdownSeconds = ref('00')
const countdown = ref('')

let timerInterval = null
function updateCountdown() {
  const target = new Date(`${date.value} 10:00:00`)
  const now = new Date()
  const diff = target - now

  if (diff <= 0) {
    countdownDays.value = countdownHours.value = countdownMinutes.value = countdownSeconds.value = '00'
    countdown.value = 'ƒê√£ ƒë·∫øn gi·ªù t·ªï ch·ª©c'
    clearInterval(timerInterval)
    return
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24))
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24)
  const minutes = Math.floor((diff / (1000 * 60)) % 60)
  const seconds = Math.floor((diff / 1000) % 60)

  countdownDays.value = String(days).padStart(2, '0')
  countdownHours.value = String(hours).padStart(2, '0')
  countdownMinutes.value = String(minutes).padStart(2, '0')
  countdownSeconds.value = String(seconds).padStart(2, '0')
}

// === 3D CYLINDER GALLERY ‚Äì TR√íN TR·ªäA HO√ÄN H·∫¢O ===
const rotation = ref(0)

// TƒÉng l√™n √≠t nh·∫•t 18‚Äì20 t·∫•m (c√†ng nhi·ªÅu c√†ng tr√≤n)
// D√πng c√πng 1 ·∫£nh l·∫∑p l·∫°i l√† ƒë·∫πp nh·∫•t
const galleryImages = ref(Array(20).fill('https://i.pinimg.com/originals/1d/4e/ce/1d4ecef2334c51f3b8b0ca95875b18e5.jpg'))

const itemCount = computed(() => galleryImages.value.length)
const itemAngle = computed(() => 360 / itemCount.value)

// B√°n k√≠nh l·ªõn h∆°n + c·ªë ƒë·ªãnh ‚Üí tr·ª• to v√† tr√≤n th·∫≠t
const radius = computed(() => 680)

let autoRotateInterval = null
const startAutoRotate = () => {
  autoRotateInterval = setInterval(() => {
    rotation.value -= 0.35   // ch·∫≠m m·ªãn h∆°n m·ªôt ch√∫t
  }, 50)
}
// === MOUNTED & UNMOUNTED ===
onMounted(() => {
  updateCountdown()
  timerInterval = setInterval(updateCountdown, 1000)
  startAutoRotate()
})

onUnmounted(() => {
  if (timerInterval) clearInterval(timerInterval)
  if (autoRotateInterval) clearInterval(autoRotateInterval)
})

// === DIRECTIVE SCROLL ANIMATION ===
const vScrollAnimate = {
  mounted(el) {
    const delayIndex = el.dataset.delay || 0
    el.classList.add('slide-up')
    el.style.transitionDelay = `${delayIndex * 0.2}s`

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          el.classList.add('show')
          observer.unobserve(el)
        }
      },
      { threshold: 0.1 }
    )
    observer.observe(el)
  }
}
</script>

<style scoped>
/* ===== HERO TITLES ===== */
.subtitle {
  font-size: 1.5rem;
  font-weight: 400;
  color: #ecfdf5;
  text-align: center;
  margin: 0 0 0.5rem;
  letter-spacing: 6px;
  text-transform: uppercase;
  font-family: 'Quicksand', sans-serif;
  opacity: 0.9;
  animation: fadeIn 1s ease-out;
}

.title {
  font-size: 2.0rem;
  font-weight: 900;
  color: #ffffff;
  text-align: center;
  margin: 0 0 2rem;
  letter-spacing: 3px;
  text-shadow: 0 4px 12px rgba(6, 78, 59, 0.4);
  animation: gradientShift 3s ease infinite, fadeIn 1.2s ease-out;
  position: relative;
  padding: 0.5rem 0;
  font-family: 'Playfair Display', serif;
  line-height: 1.2;
  background: linear-gradient(135deg, #34d399, #86efac, #d1fae5);
  -webkit-background-clip: text;
}
/* ===== NG√ÄY SINH KI·ªÇU THI·ªÜP TH·∫¨T ===== */
.birth-real-card {
  margin-bottom: 2rem;
  padding: 1.8rem;
  background: linear-gradient(135deg, #f0fdfa, #ecfdf5);
  border-radius: 24px;
  border: 1px solid #a7f3d0;
  text-align: center;
}

.birth-card {
  position: relative;
  background: linear-gradient(135deg, #059669, #047857);
  border-radius: 28px;
  padding: 2rem 1.5rem 2.5rem;
  color: white;
  box-shadow: 0 12px 35px rgba(5, 150, 105, 0.4);
  overflow: hidden;
}

.birth-title {
  font-size: 1.25rem;
  font-weight: 700;
  text-transform: uppercase;
  margin-bottom: 0.3rem;
}

.birth-time {
  font-size: 1.1rem;
  opacity: 0.95;
  margin-bottom: 1.2rem;
}

.birth-date-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.birth-part {
  text-align: center;
}

.birth-label {
  font-size: 0.85rem;
  opacity: 0.9;
  display: block;
  margin-bottom: 0.3rem;
}

.birth-big {
  font-size: 3.6rem;
  font-weight: 900;
  font-family: 'Playfair Display', serif;
  line-height: 1;
}

.slash {
  font-size: 2.4rem;
  font-weight: 300;
  opacity: 0.8;
}

.birth-year-big {
  font-size: 5rem;
  font-weight: 800;
  font-family: 'Playfair Display', serif;
}

/* Responsive */
@media (max-width: 480px) {
  .birth-big { font-size: 2.8rem; }
  .birth-year-big { font-size: 5rem; }
  .slash { font-size: 2rem; }

}
.title::before { content: 'üíå'; position: absolute; left: -3.5rem; animation: bounce 2s ease-in-out infinite; }
.title::after  { content: 'üíå'; position: absolute; right: -3.5rem; animation: bounce 2s ease-in-out infinite; }

@keyframes gradientShift { 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }
@keyframes fadeIn { from{opacity:0;transform:translateY(-20px);} to{opacity:1;transform:translateY(0);} }
@keyframes bounce { 0%,100%{transform:translateY(0) rotate(-10deg);} 50%{transform:translateY(-10px) rotate(10deg);} }

/* ===== ROOT & CARD ===== */
.invite-root {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 50%, #a7f3d0 100%);
  padding: 2rem 1rem;
  font-family: 'Segoe UI', sans-serif;
}
.card {
  width: 100%;
  max-width: 1000px;
  border-radius: 24px;
  overflow: hidden;
  background: #f0fdfa;
    /* background: linear-gradient(180deg, #064e3b 0%, #065f46 100%); */
  box-shadow: 0 20px 60px rgba(16,194,121,0.18), 0 0 0 1px rgba(134,239,172,0.2);
}

/* ===== HERO ===== */
.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 3rem 2rem 2rem;
  position: relative;
  background: linear-gradient(180deg, #064e3b 0%, #065f46 100%);
}
.hero::before { content:'üíê'; position:absolute; top:1rem; left:4.5rem; font-size:2rem; animation:float 3s ease-in-out infinite; }
.hero::after  { content:'üíê'; position:absolute; top:1rem; right:5rem; font-size:2rem; animation:float 3s ease-in-out infinite 1.5s; }
@keyframes float { 0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);} }

/* t√™n d∆∞·ªõi ·∫£nh */
.baby { font-size:2rem; font-weight:500; color:#ecfdf5; text-align:center; margin:0; text-shadow:0 2px 8px rgba(6,78,59,0.4); position:relative; padding:0 2rem;}
.baby::before, .baby::after { content:'‚ù§Ô∏è'; position:absolute; font-size:1.5rem; color:#86efac; }
.baby::before { left:0; animation:sparkle 2s ease-in-out infinite; }
.baby::after  { right:0; animation:sparkle 2s ease-in-out infinite 1s; }
@keyframes sparkle {0%,100%{opacity:0.4;transform:scale(0.8);}50%{opacity:1;transform:scale(1.2);}}

/* ===== SCROLL ANIMATIONS ===== */
.subtitle,.title,.hero-image,.baby,.section-block{opacity:0; transform:translateY(30px); transition:all 0.8s ease;}
.subtitle.show,.title.show,.hero-image.show,.baby.show,.section-block.show{opacity:1; transform:translateY(0);}
.hero-image.show img{transform:scale(1);}

/* ===== CONTENT ===== */
.content{padding:2rem 2.5rem; background:#fff;}
.label{font-size:1rem;color:#059669;margin-bottom:0.8rem;font-weight:600;text-transform:uppercase;display:flex;align-items:center;gap:0.5rem;}
.label::before{content:'‚ùñ';color:#34d399;font-size:0.8rem;}
.section-block{margin-bottom:2rem;padding:1.5rem;background:#f0fdfa;border-radius:16px;border:1px solid #a7f3d0;transition:all 0.3s ease;}
.section-block:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(16,194,121,0.15);}

/* ===== CALENDAR ===== */
.calendar{border:2px solid #86efac;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px rgba(134,239,172,0.2);}
.calendar-header{background:linear-gradient(135deg,#059669,#10b981);padding:1rem;text-align:center;font-weight:700;color:#fff;font-size:1.1rem;text-transform:uppercase;}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);padding:1rem;gap:8px;}
.day{padding:10px 0;text-align:center;font-size:0.9rem;border-radius:8px;background:#ecfdf5;color:#065f46;cursor:default;transition:all 0.2s;}
.day:hover{background:#a7f3d0;transform:scale(1.05);}
.day.highlight{background:linear-gradient(135deg,#059669,#10b981);color:#fff;font-weight:700;font-size:1.1rem;box-shadow:0 4px 12px rgba(16,194,121,0.5);transform:scale(1.1);position:relative;}
.day.highlight::after{content:'üéÇ';position:absolute;top:-8px;right:-8px;font-size:1rem;}

/* ===== COUNTDOWN ===== */
.countdown-grid {
  display: flex;
  justify-content: center;
  gap: 0.8rem;              /* gi·∫£m gap m·ªôt ch√∫t cho v·ª´a */
  margin-top: 1rem;
  flex-wrap: nowrap;        /* B·∫ÆT BU·ªòC: kh√¥ng cho xu·ªëng d√≤ng */
  padding: 0.5rem 0;        /* th√™m ch√∫t padding ƒë·ªÉ cu·ªôn m∆∞·ª£t */
  scrollbar-width: none;    /* ·∫©n thanh cu·ªôn tr√™n Firefox */
}.countdown-item{display:flex;flex-direction:column;align-items:center;padding:1.2rem 1.5rem;background:linear-gradient(145deg,#059669,#047857);border-radius:16px;min-width:80px;color:#fff;box-shadow:0 6px 20px rgba(5,150,105,0.45),inset 0 -3px 6px rgba(255,255,255,0.2);animation:pulse 2s ease-in-out infinite;position:relative;overflow:hidden;}
.countdown-item::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,0.12),transparent);transform:rotate(45deg);animation:shimmer 3s infinite;}
@keyframes pulse{0%,100%{box-shadow:0 6px 20px rgba(5,150,105,0.45),inset 0 -3px 6px rgba(255,255,255,0.2);}50%{box-shadow:0 8px 25px rgba(16,194,121,0.6),inset 0 -4px 8px rgba(255,255,255,0.4);}}
@keyframes shimmer{0%{transform:translateX(-100%) translateY(-100%) rotate(45deg);}100%{transform:translateX(100%) translateY(100%) rotate(45deg);}}
.num{font-size:2rem;font-weight:800;text-shadow:0 2px 8px rgba(0,0,0,0.4);font-family:'Courier New', monospace;}
.label-small{font-size:0.75rem;color:#d1fae5;margin-top:0.5rem;text-transform:uppercase;font-weight:600;}

/* ===== LOCATION ===== */
.location-box{padding:1rem 1.2rem;background:linear-gradient(135deg,#ecfdf5,#f0fdf4);border-radius:12px;border:2px solid #86efac;text-align:center;font-weight:600;font-size:1rem;color:#064e3b;margin-bottom:1rem;box-shadow:0 2px 8px rgba(134,239,172,0.15);}
.map-container{margin-top:1rem;border-radius:16px;overflow:hidden;box-shadow:0 6px 20px rgba(0,0,0,0.15);border:3px solid #fff;}

/* ===== MESSAGE ===== */
.message-block .message{line-height:1.8;color:#374151;font-size:1rem;text-align:justify;padding:1rem;background:#fff;border-radius:12px;border-left:4px solid #10b981;}

/* ===== FOOTER ===== */
.footer{margin-top:2rem;text-align:center;font-size:0.9rem;color:#065f46;padding:1.5rem;background:#f0fdfa;border-radius:12px;border:1px dashed #86efac;}

/* ===== RESPONSIVE ===== */
@media (max-width:768px){.invite-root{padding:1rem 0.5rem;}.hero{padding:2rem 1rem 1.5rem;}.hero-image{height:250px;}.content{padding:1.5rem 1rem;}.section-block{padding:1rem;}.countdown-grid{gap:0.6rem;}.countdown-item{min-width:70px;padding:1rem 1.2rem;}.num{font-size:1.6rem;}.calendar-grid{gap:4px;padding:0.8rem;}}
@media (max-width:480px){.num{font-size:1.4rem;}}
/* Font ch·ªØ tay sang tr·ªçng */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');

.baby-name-framed {
  padding: 4rem 2rem;
  text-align: center;
}

/* Khung vi·ªÅn ƒë·∫πp */
.name-frame {
  max-width: 720px;
  padding: 2.5rem 2rem;
  background: linear-gradient(135deg, #f8fdf9 0%, #f0fdf4 100%);
  border: double 6px #86efac;
  border-radius: 32px;
  box-shadow: 
    0 10px 40px rgba(16, 194, 121, 0.15),
    inset 0 0 30px rgba(134, 239, 172, 0.2);
  position: relative;
  overflow: hidden;
}

/* 4 g√≥c trang tr√≠ nh·ªè */
.name-frame::before {
  content: '';
  position: absolute;
  top: 12px; left: 12px;
  width: 40px; height: 40px;
  border-left: 4px solid #34d399;
  border-top: 4px solid #34d399;
  border-radius: 12px 0 0 0;
}

.name-frame::after {
  content: '';
  position: absolute;
  bottom: 12px; right: 12px;
  width: 40px; height: 40px;
  border-right: 4px solid #34d399;
  border-bottom: 4px solid #34d399;
  border-radius: 0 0 12px 0;
}

.name-frame > div {
  position: absolute;
  width: 40px; height: 40px;
  border: 4px solid hsl(158, 64%, 52%);
  border-radius: 12px;
}

.name-frame > div:nth-child(1) { top: 12px; right: 12px; border-left: none; border-bottom: none; }
.name-frame > div:nth-child(2) { bottom: 12px; left: 12px; border-right: none; border-top: none; }

/* Ch·ªØ t√™n */
.name-text {
  margin: 0;
  font-size: 2rem;
  font-weight: 700;
  font-family: 'Dancing Script', cursive;
  background: linear-gradient(120deg, #064e3b, #059669, #10b981, #34d399);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 6px 20px rgba(16, 194, 121, 0.2);
}

/* Hi·ªáu ·ª©ng hi·ªán khi scroll */
.baby-name-framed {
  opacity: 0;
  transform: translateY(40px);
  transition: all 1.4s cubic-bezier(0.22, 1, 0.36, 1);
}
.baby-name-framed.show {
  opacity: 1;
  transform: translateY(0);
}

/* Responsive */
@media (max-width: 640px) {
  .name-text { font-size: 1rem; }
  .name-frame { padding: 2rem 1.5rem; border-width: 5px; }
}
/* ===== 3 ·∫¢NH STUDIO ‚Äì M√ÅY T√çNH ƒê·∫∏P Y H·ªÜT ·∫¢NH M·∫™U ===== */
.triple-photo {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 32px;                    /* kho·∫£ng c√°ch r·ªông r√£i nh∆∞ m·∫´u */
  margin: 3rem auto;
  padding: 0 2rem;
  max-width: 1200px;
}

.photo-frame {
  border: 14px solid #ffffff;
  border-bottom-width: 18px;
  border-radius: 32px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.25);
  background: #fff;
  position: relative;
  transition: transform 0.4s ease;
}

/* ·∫¢nh gi·ªØa to h∆°n ƒë√∫ng nh∆∞ m·∫´u */
.photo-frame.middle {
  flex: 0 0 300px;
  transform: translateY(-20px) scale(1.08);
  z-index: 2;
}


.photo-frame img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top;
  display: block;
  aspect-ratio: 3 / 4;
}

/* ==================== ƒêI·ªÜN THO·∫†I ‚Äì NH·ªé L·∫†I V·ª™A ƒê·∫∏P, V·∫™N N·∫∞M NGANG ==================== */
@media (max-width: 768px) {
  .triple-photo {
    gap: 6px;
    padding: 0px;
  }
  .photo-frame {
      /* nh·ªè l·∫°i v·ª´a ƒëi·ªán tho·∫°i */
    border-width: 10px;
    border-bottom-width: 14px;
    border-radius: 24px;
  }
  .photo-frame::before {
    inset: 5px;
    border-width: 4px;
  }
  .photo-frame.middle {

    transform: translateY(-12px) scale(1.07);
  }
}

@media (max-width: 480px) {
  .triple-photo { gap: 6px; }
  .photo-frame {

    min-width: 100px;
    border-width: 7px;
    border-bottom-width: 10px;
    border-radius: 18px;
  }
  .photo-frame::before {
    inset: 4px;
    border-width: 3px;
  }
  .photo-frame.middle {
    flex: 0 0 33vw;
    min-width: 110px;
    transform: translateY(-8px) scale(1.06);
  }
}

 /* === TR·ª§ XOAY 3D ‚Äì TR√íN TR·ªäA HO√ÄN H·∫¢O, N·ªêI LI·ªÄN 100% === */
.gallery-3d-block {
  background: #f0fdfa;             /* M√†u n·ªÅn nh·∫π nh√†ng, h·ª£p v·ªõi theme b√© g√°i */
  overflow: hidden;                /* Quan tr·ªçng: ·∫®n ph·∫ßn ·∫£nh b·ªã tr√†n ra ngo√†i khi xoay */
}

/* Khu v·ª±c ch·ª©a to√†n b·ªô kh√¥ng gian 3D */
.cylinder-gallery-container {
  width: 100%;
  max-width: 1400px;                /* Gi·ªõi h·∫°n chi·ªÅu r·ªông t·ªëi ƒëa (ƒë·∫πp tr√™n m·ªçi m√†n h√¨nh) */
  height: 315px;                   /* Chi·ªÅu cao c·ªë ƒë·ªãnh ƒë·ªÉ ·∫£nh v·ª´a khung */
  margin: 0 auto;                  /* CƒÉn gi·ªØa theo chi·ªÅu ngang */
  perspective: 5000px;             /* C√†ng l·ªõn ‚Üí m·∫Øt ng∆∞·ªùi xem c√†ng xa ‚Üí cong c√†ng s√¢u, tr·ª• c√†ng tr√≤n */
  perspective-origin: 50% 50%;     /* ƒêi·ªÉm nh√¨n h∆°i l·ªách xu·ªëng d∆∞·ªõi m·ªôt ch√∫t ƒë·ªÉ nh√¨n t·ª± nhi√™n h∆°n */
}

/* Scene ‚Äì kh√¥ng gian 3D ch√≠nh */
.cylinder-scene {
  width: 100%;
  height: 100%;
  position: relative;              /* L√†m g·ªëc t·ªça ƒë·ªô cho c√°c ph·∫ßn con absolute */
  transform-style: preserve-3d;    /* B·∫ÆT BU·ªòC: gi·ªØ l·∫°i hi·ªáu ·ª©ng 3D cho c√°c ph·∫ßn con */
}

/* C√°i carousel th·ª±c s·ª± xoay tr√≤n */
.cylinder-carousel {
  width: 100%;
  height: 100%;
  position: absolute;
  transform-style: preserve-3d;    /* B·∫ÆT BU·ªòC: cho c√°c t·∫•m ·∫£nh gi·ªØ ƒë∆∞·ª£c 3D */
  transition: transform 0.1s linear; /* L√†m xoay m∆∞·ª£t m√† */
}

/* M·ªói t·∫•m ·∫£nh ri√™ng l·∫ª */
.cylinder-item {
  position: absolute;              /* ƒê·∫∑t v·ªã tr√≠ trong kh√¥ng gian 3D */
  top: 20px;                       /* C√°ch m√©p tr√™n m·ªôt ch√∫t ƒë·ªÉ cƒÉn gi·ªØa d·ªçc ƒë·∫πp h∆°n */
  left: 50%;                       /* ƒê·∫∑t t√¢m ngang ·ªü gi·ªØa */
  width: 215px;                    /* R·ªòNG H∆†N R·∫§T NHI·ªÄU so v·ªõi b·∫£n c≈© ‚Üí che h·∫øt khe h·ªü */
  height: 300px;                   /* Cao h∆°n ‚Üí t·∫°o c·∫£m gi√°c tr·ª• to */
  margin-left: -70px;             /* D·ªãch ng∆∞·ª£c l·∫°i ¬Ω width ƒë·ªÉ cƒÉn gi·ªØa ch√≠nh x√°c */
  background-size: cover !important;     /* ·∫¢nh ph·ªß k√≠n t·∫•m */
  background-position: center !important; /* CƒÉn gi·ªØa ·∫£nh */


  backface-visibility: hidden;     /* ·∫®n m·∫∑t sau khi xoay (r·∫•t quan tr·ªçng trong 3D) */
  transform-style: preserve-3d;    /* Gi·ªØ 3D cho c√°c ph·∫ßn con (n·∫øu c√≥) */

  /* ============================================= */
  /* 3 D√íNG TH·∫¶N TH√ÅNH ‚Äì L√ÄM C√ÅC ·∫¢NH N·ªêI LI·ªÄN HO√ÄN TO√ÄN */
  /* ============================================= */
  -webkit-mask-image: radial-gradient(ellipse 170% 130% at 50% 50%, black 66%, transparent 100%);
          mask-image: radial-gradient(ellipse 170% 130% at 50% 50%, black 66%, transparent 100%);
}

/* Hi·ªáu ·ª©ng √°nh s√°ng nh·∫π bao quanh m·ªói t·∫•m (ƒë·∫πp h∆°n, t√πy ch·ªçn) */
.cylinder-item::before {
  content: '';
  position: absolute;
  inset: -50px;                    /* Tr√†n ra ngo√†i t·∫•m ·∫£nh m·ªôt ch√∫t */
  border-radius: 44px;
  background: linear-gradient(45deg, rgba(255,182,193,0.6), rgba(173,216,230,0.5)); /* h·ªìng nh·∫°t ‚Üí xanh nh·∫°t */
  filter: blur(60px);              /* L√†m m·ªù m·∫°nh ‚Üí t·∫°o hi·ªáu ·ª©ng glow */
  opacity: 0.1;                   /* ƒê·ªô trong su·ªët v·ª´a ƒë·ªß */
  z-index: -1;                     /* ƒê·∫∑t sau t·∫•m ·∫£nh */
  pointer-events: none;            /* Kh√¥ng c·∫£n chu·ªôt */
}
/* THANHYOU */
.thank-you-simple {
  font-size: 5rem;
  font-weight: 900;
  text-align: center;
  margin: 50px 0;
  width: 100%;                                    /* th√™m */
  background: linear-gradient(135deg, #047857);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-family: 'Playfair Display', serif;
  letter-spacing: 6px;
}

/* G·∫°ch ch√¢n gi·∫£ ‚Äì hi·ªÉn th·ªã 100% d√π c√≥ gradient */
.thank-you-simple .underline {
  position: absolute;
  left: 50%;
  bottom: 12px;                        /* ch·ªânh l√™n/xu·ªëng t√πy √Ω */
  transform: translateX(-50%);
  width: 70%;
  height: 6px;
  background: linear-gradient(90deg, transparent, #047857, transparent);
  border-radius: 3px;
}

/* Mobile */
@media (max-width: 760px) {
  .thank-you-simple { font-size: 2rem; margin: 90px auto 70px; }
  .thank-you-simple .underline { bottom: 8px; height: 4px; }
}
/* ========================================================= */
/* ================ FIX SAFARI 100% ‚Äì D√ÅN CU·ªêI C√ôNG ============ */
/* ========================================================= */
@supports (-webkit-touch-callout: none) or (-webkit-text-fill-color: transparent) {
  /* Ch·ªâ ch·∫°y tr√™n Safari (iOS & macOS) ‚Äì Chrome s·∫Ω b·ªè qua ho√†n to√†n */
  
  /* 1. Fix ch·ªØ gradient b·ªã m·∫•t tr√™n Safari */
  .title,
  .name-text,
  .thank-you-simple,
  .subtitle,
  h1, h2, h3, h4, h5, h6 {
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
  }

  /* 2. Fix tr·ª• xoay 3D b·ªã tr·∫Øng / kh√¥ng hi·ªán ·∫£nh */
  .cylinder-item {
    -webkit-mask-image: radial-gradient(ellipse 170% 130% at 50% 50%, black 66%, transparent 100%) !important;
    mask-image: radial-gradient(ellipse 170% 130% at 50% 50%, black 66%, transparent 100%);
  }

  /* 3. Force GPU + gi·ªØ 3D context tr√™n Safari */
  .cylinder-gallery-container,
  .cylinder-scene,
  .cylinder-carousel {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
  }

  /* 4. Fix perspective b·ªã v·ª° */
  .cylinder-gallery-container {
    -webkit-perspective: 5000px;
    perspective: 5000px;
  }
}

/* Fallback cho Safari c·ª±c c≈© (iOS ‚â§ 14) kh√¥ng h·ªó tr·ª£ gap trong flex */
@supports not (gap: 1px) {
  .triple-photo {
    gap: 32px !important;
  }
  .triple-photo > * + * {
    margin-left: 32px;
  }
  @media (max-width: 768px) {
    .triple-photo > * + * {
      margin-left: 6px;
    }
  }
}

/* Fix aspect-ratio cho Safari ‚â§ 14 */
@supports not (aspect-ratio: 1) {
  .photo-frame img {
    height: 0;
    padding-bottom: 133.33%; /* 3:4 ratio */
    position: relative;
  }
  .photo-frame img {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
  }
}

/* TƒÉng ƒë·ªô ·ªïn ƒë·ªãnh 3D to√†n trang (kh√¥ng ·∫£nh h∆∞·ªüng Chrome) */
.gallery-3d-block,
.cylinder-gallery-container {
  contain: layout style paint;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}
/* === 3D CYLINDER GALLERY ‚Äì FULL SAFARI FIX === */

.gallery-3d-block {
  margin-top: 40px;
  text-align: center;
}

.cylinder-gallery-container {
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 10px;

  perspective: 1200px;
  -webkit-perspective: 1200px; /* Safari */
}

.cylinder-scene {
  width: 260px;
  height: 380px;
  position: relative;

  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d; /* Safari */
}

.cylinder-carousel {
  width: 100%;
  height: 100%;
  position: absolute;

  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;

  transition: transform 1s ease-out;
  -webkit-transition: transform 1s ease-out;
}

.cylinder-item {
  position: absolute;
  top: 0;
  left: 0;

  width: 220px;
  height: 350px;

  background-size: cover;
  background-position: center;
  border-radius: 18px;

  box-shadow: 0 10px 25px rgba(0,0,0,0.25);

  /* Safari c·∫ßn ƒë·ªÉ tr√°nh l·∫≠t tr·∫Øng */
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;

  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;

  image-rendering: auto;
}

/* OPTIONAL: l√†m m∆∞·ª£t khi xoay */
.cylinder-carousel.smooth {
  transition: transform 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* OPTIONAL: hi·ªáu ·ª©ng khi ch·∫°m */
.cylinder-item:hover {
  transform: scale(1.05) translateZ(10px);
  -webkit-transform: scale(1.05) translateZ(10px);
}

</style> 
